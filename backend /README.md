# AI Notes Manager

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–º–µ—Ç–∫–∞–º–∏ —Å AI –∞–≥–µ–Ω—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç, –æ—Ä–≥–∞–Ω–∏–∑—É–µ—Ç –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–º–µ—Ç–∫–∏, –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å Google Calendar –∏ –∏—â–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ü§ñ AI –ê–≥–µ–Ω—Ç

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫** –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–ª–∞–Ω–æ–≤ –æ–±—É—á–µ–Ω–∏—è –∏ –ø—Ä–æ–µ–∫—Ç–æ–≤** —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ —ç—Ç–∞–ø–∞–º–∏
- **–ê–Ω–∞–ª–∏–∑ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è** –∑–∞–º–µ—Ç–æ–∫ –ø–æ –≤–∞–∂–Ω–æ—Å—Ç–∏ –∏ —Ç–µ–º–∞–º
- **–ü–æ–∏—Å–∫ —Å–≤—è–∑–µ–π** –º–µ–∂–¥—É –∑–∞–º–µ—Ç–∫–∞–º–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è** –∑–∞–º–µ—Ç–æ–∫ –≤ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –≥—Ä—É–ø–ø—ã

### üìÖ Google Calendar –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

- **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π** –∏ —Å–æ–±—ã—Ç–∏–π –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ
- **–ü–∞—Ä—Å–∏–Ω–≥ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞** –¥–ª—è –≤—Ä–µ–º–µ–Ω–∏ ("–∑–∞–≤—Ç—Ä–∞ –≤ 15:00", "—á–µ—Ä–µ–∑ 2 —á–∞—Å–∞")
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö —Å–æ–±—ã—Ç–∏—è—Ö
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** —Å –∑–∞–º–µ—Ç–∫–∞–º–∏-–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏

### üåê –í–µ–±-—Å–∫—Ä–∞–ø–∏–Ω–≥ –∏ –ø–æ–∏—Å–∫

- **–ü–∞—Ä—Å–∏–Ω–≥ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü** –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **–ü–æ–∏—Å–∫ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫** –∫–∞–∂–¥—ã–µ 8 —á–∞—Å–æ–≤
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–æ–∏—Å–∫–æ–≤—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏** (Google, Bing, DuckDuckGo)
- **–ê–Ω–∞–ª–∏–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö** —Å—Ç—Ä–∞–Ω–∏—Ü

### üìù –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∞–º–∏

- **–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è CRUD —Å–∏—Å—Ç–µ–º–∞** –¥–ª—è –∑–∞–º–µ—Ç–æ–∫
- **–°–≤—è–∑–∏ –º–µ–∂–¥—É –∑–∞–º–µ—Ç–∫–∞–º–∏** (–∫–∞–∫ –≤ Obsidian)
- **–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É
- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
git clone <repository-url>
cd backend
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```bash
cp env.example .env
```

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
DATABASE_URL=postgresql+asyncpg://user:password@localhost/notes_db

# JWT –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
SECRET_KEY=your-secret-key-here

# OpenAI API (–¥–ª—è AI –∞–≥–µ–Ω—Ç–∞)
OPENAI_API_KEY=your-openai-api-key-here
```

#### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
# Google Calendar API
GOOGLE_CREDENTIALS_PATH=credentials.json

# Google Custom Search API
GOOGLE_SEARCH_API_KEY=your-google-search-api-key
GOOGLE_SEARCH_ENGINE_ID=your-search-engine-id

# Bing Search API
BING_SEARCH_API_KEY=your-bing-search-api-key
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
alembic revision --autogenerate -m "Initial migration"

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
alembic upgrade head
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Calendar API

1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –í–∫–ª—é—á–∏—Ç–µ Google Calendar API
3. –°–æ–∑–¥–∞–π—Ç–µ OAuth 2.0 credentials
4. –°–∫–∞—á–∞–π—Ç–µ `credentials.json` –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
5. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–π–¥–∏—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é

### 5. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
uvicorn main:app --reload --host 0.0.0.0 --port 8000

# –ü—Ä–æ–¥–∞–∫—à–Ω
uvicorn main:app --host 0.0.0.0 --port 8000
```

## API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- `POST /auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /auth/login` - –í—Ö–æ–¥
- `GET /auth/me` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

### –ó–∞–º–µ—Ç–∫–∏

- `GET /notes/` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫
- `POST /notes/` - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏
- `GET /notes/{id}` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏
- `PUT /notes/{id}` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏
- `DELETE /notes/{id}` - –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏

### AI –ê–≥–µ–Ω—Ç

- `POST /ai-agent/process` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /ai-agent/analyze-note` - –ê–Ω–∞–ª–∏–∑ –∑–∞–º–µ—Ç–∫–∏
- `POST /ai-agent/scrape-web` - –ü–∞—Ä—Å–∏–Ω–≥ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `POST /ai-agent/calendar/event` - –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ
- `GET /ai-agent/calendar/events` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
- `POST /ai-agent/organize-notes` - –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∑–∞–º–µ—Ç–æ–∫
- `POST /ai-agent/search-related-links` - –ü–æ–∏—Å–∫ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ –æ–±—É—á–µ–Ω–∏—è

```bash
curl -X POST "http://localhost:8000/ai-agent/process" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "message": "–°–¥–µ–ª–∞–π –º–Ω–µ –ø–ª–∞–Ω –∏–∑—É—á–µ–Ω–∏—è Python –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö",
    "enable_background_tasks": true
  }'
```

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã

```bash
curl -X POST "http://localhost:8000/ai-agent/scrape-web" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://example.com/article"
  }'
```

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

```bash
curl -X POST "http://localhost:8000/ai-agent/calendar/event" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "summary": "–í—Å—Ç—Ä–µ—á–∞ —Å –∫–ª–∏–µ–Ω—Ç–æ–º",
    "description": "–û–±—Å—É–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞",
    "start_time": "–∑–∞–≤—Ç—Ä–∞ 14:00",
    "end_time": "–∑–∞–≤—Ç—Ä–∞ 15:00"
  }'
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

1. **AIAgent** - –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –∞–≥–µ–Ω—Ç–∞, –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É—é—â–∏–π –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
2. **NoteAnalyzer** - –ê–Ω–∞–ª–∏–∑ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –∑–∞–º–µ—Ç–æ–∫ —Å –ø–æ–º–æ—â—å—é OpenAI
3. **WebScraper** - –ü–∞—Ä—Å–∏–Ω–≥ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü –∏ –ø–æ–∏—Å–∫ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫
4. **CalendarManager** - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Calendar API
5. **FastAPI Router** - REST API –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∞–≥–µ–Ω—Ç–æ–º

### –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏:

- **–ü–æ–∏—Å–∫ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫** - –∫–∞–∂–¥—ã–µ 8 —á–∞—Å–æ–≤
- **–†–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∑–∞–º–µ—Ç–æ–∫** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö —Å–æ–±—ã—Ç–∏—è—Ö

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:

```
backend/
‚îú‚îÄ‚îÄ ai_agent/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ agent.py          # –û—Å–Ω–æ–≤–Ω–æ–π AI –∞–≥–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ note_analyzer.py  # –ê–Ω–∞–ª–∏–∑ –∑–∞–º–µ—Ç–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ web_scraper.py    # –í–µ–±-—Å–∫—Ä–∞–ø–∏–Ω–≥
‚îÇ   ‚îú‚îÄ‚îÄ calendar_manager.py # Google Calendar
‚îÇ   ‚îú‚îÄ‚îÄ prompts.py        # –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è OpenAI
‚îÇ   ‚îú‚îÄ‚îÄ router.py         # API endpoints
‚îÇ   ‚îî‚îÄ‚îÄ schemas.py        # Pydantic —Å—Ö–µ–º—ã
‚îú‚îÄ‚îÄ notes/
‚îÇ   ‚îú‚îÄ‚îÄ crud.py           # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ router.py         # API –¥–ª—è –∑–∞–º–µ—Ç–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ schemas.py        # –°—Ö–µ–º—ã –∑–∞–º–µ—Ç–æ–∫
‚îú‚îÄ‚îÄ jwt_auth/
‚îÇ   ‚îú‚îÄ‚îÄ auth.py           # JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ router.py         # Auth endpoints
‚îú‚îÄ‚îÄ models.py             # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ database.py           # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î
‚îú‚îÄ‚îÄ main.py              # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îî‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π:

1. **–ù–æ–≤—ã–µ —Ç–∏–ø—ã –∞–Ω–∞–ª–∏–∑–∞** - —Ä–∞—Å—à–∏—Ä—å—Ç–µ `NoteAnalyzer`
2. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ API** - –¥–æ–±–∞–≤—å—Ç–µ –≤ `WebScraper`
3. **–ù–æ–≤—ã–µ –ø—Ä–æ–º–ø—Ç—ã** - –æ–±–Ω–æ–≤–∏—Ç–µ `prompts.py`
4. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã** - —Ä–∞—Å—à–∏—Ä—å—Ç–µ `router.py`

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issues –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
