# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google OAuth –¥–ª—è Memetum.ai

## üîß –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Google Cloud Console

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Google Cloud Console

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –í–∫–ª—é—á–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ API

### 2. –í–∫–ª—é—á–µ–Ω–∏–µ API

–í —Ä–∞–∑–¥–µ–ª–µ "API –∏ —Å–µ—Ä–≤–∏—Å—ã" ‚Üí "–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞" –≤–∫–ª—é—á–∏—Ç–µ:

- **Google Calendar API**
- **Google+ API** (–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —ç–∫—Ä–∞–Ω–∞ —Å–æ–≥–ª–∞—Å–∏—è OAuth

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "API –∏ —Å–µ—Ä–≤–∏—Å—ã" ‚Üí "–≠–∫—Ä–∞–Ω —Å–æ–≥–ª–∞—Å–∏—è OAuth"
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: **–í–Ω–µ—à–Ω–∏–π**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:

   - **–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: Memetum.ai
   - **–≠–ª. –ø–æ—á—Ç–∞ —Å–ª—É–∂–±—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏**: –≤–∞—à email
   - **–î–æ–º–µ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: localhost (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
   - **–≠–ª. –ø–æ—á—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞**: –≤–∞—à email

4. –î–æ–±–∞–≤—å—Ç–µ –æ–±–ª–∞—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–∞:
   - `../auth/userinfo.email`
   - `../auth/userinfo.profile`
   - `../auth/calendar`

### 4. –°–æ–∑–¥–∞–Ω–∏–µ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö OAuth 2.0

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "API –∏ —Å–µ—Ä–≤–∏—Å—ã" ‚Üí "–£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"
2. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ" ‚Üí "–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞ OAuth 2.0"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: **–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
4. –£–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: **Memetum.ai Web Client**

### 5. ‚ö†Ô∏è –í–ê–ñ–ù–û: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ URI –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–í —Ä–∞–∑–¥–µ–ª–µ "–†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ URI –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è" –¥–æ–±–∞–≤—å—Ç–µ **–¢–û–ß–ù–û**:

```
http://localhost:8000/auth/google/callback
```

**–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:**

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `http://` (–Ω–µ `https://`) –¥–ª—è localhost
- –ü–æ—Ä—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `8000` (–ø–æ—Ä—Ç –≤–∞—à–µ–≥–æ FastAPI —Å–µ—Ä–≤–µ—Ä–∞)
- –ü—É—Ç—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `/auth/google/callback` (–ù–ï `/calendar/callback`)

### 6. –ü–æ–ª—É—á–µ–Ω–∏–µ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:

- **Client ID** (–∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ `.apps.googleusercontent.com`)
- **Client Secret** (—Å—Ç—Ä–æ–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤)

### 7. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –ø–∞–ø–∫–µ `backend` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:

```env
# Google OAuth
GOOGLE_CLIENT_ID=–≤–∞—à-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=–≤–∞—à-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8000/auth/google/callback
```

## üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ backend —Å–µ—Ä–≤–µ—Ä:

```bash
cd backend
uvicorn main:app --reload --port 8000
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ frontend:

```bash
cd frontend
npm run dev
```

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é:

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173/login
2. –ù–∞–∂–º–∏—Ç–µ "Continue with Google"
3. –î–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ Google
4. –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤—ã –¥–æ–ª–∂–Ω—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## üîç –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "redirect_uri_mismatch"

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ URI –≤ Google Console **—Ç–æ—á–Ω–æ** —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `GOOGLE_REDIRECT_URI` –≤ .env
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç (8000 –¥–ª—è backend)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö —Å–ª–µ—à–µ–π –≤ –∫–æ–Ω—Ü–µ URI

### –û—à–∏–±–∫–∞ "invalid_client"

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å `GOOGLE_CLIENT_ID` –∏ `GOOGLE_CLIENT_SECRET`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –û—à–∏–±–∫–∞ "access_denied"

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∫–ª—é—á–µ–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ API –≤ Google Cloud Console
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫—Ä–∞–Ω–∞ —Å–æ–≥–ª–∞—Å–∏—è OAuth

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∑–∞–º–µ–Ω–∏—Ç–µ localhost –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω:

```env
GOOGLE_REDIRECT_URI=https://yourdomain.com/auth/google/callback
```

–ò –¥–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç URI –≤ Google Cloud Console.
